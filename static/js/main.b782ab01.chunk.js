(this["webpackJsonpwoo-image-to-order"]=this["webpackJsonpwoo-image-to-order"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},20:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(7),i=c.n(s),l=(c(17),c(18),c(0));function r(){return Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsx)("a",{className:"navbar-brand",href:"#",children:"Navbar"})})})}var o=c(4),d=c(2),j=c(8),m=c(9),b=c(12),u=c(11),h=c(3),f=c.n(h);function O(e){var t=e.file,c=t.options,a=Object(n.useState)(!1),s=Object(d.a)(a,2),i=s[0],r=s[1],o=Object(n.useState)(!1),j=Object(d.a)(o,2),m=j[0];j[1];return Object(n.useEffect)((function(){e.upd("rotate",i,e.index)}),[i,m]),Object(l.jsxs)("div",{onClick:function(){e.changeMod&&e.upd("changed",!c.changed,e.index)},className:"file d-flex",changed:c.changed?"changed":"",children:[Object(l.jsx)("div",{className:"image-wrapper ".concat(i?"v":"h"," ").concat(c.cadr?"cadr-on":""),style:{backgroundImage:"url(".concat(window.URL.createObjectURL(t.file),")")}}),Object(l.jsxs)("div",{className:"file-options",children:[Object(l.jsxs)("div",{className:"o format",children:[Object(l.jsx)(f.a,{name:"lni lni-ruler-alt"}),"\xa0",c.format?c.format:"\u041d\u0435\u0442"]}),Object(l.jsxs)("div",{className:"o paper",children:[Object(l.jsx)(f.a,{name:"lni lni-write"}),"\xa0",c.paper?c.paper:"\u041d\u0435\u0442"]}),Object(l.jsxs)("div",{className:"o crop",children:[Object(l.jsx)(f.a,{name:"lni lni-crop"}),"\xa0",c.cadr?c.cadr:"\u041d\u0435\u0442"]}),Object(l.jsxs)("div",{className:"o count",children:[Object(l.jsx)(f.a,{name:"lni lni-shopping-basket"}),"\xa0",c.count?c.count:"\u041d\u0435\u0442"]}),Object(l.jsx)("div",{className:"delimeter"}),Object(l.jsx)(x,{rotate:function(){r(!i)}})]})]})}function x(e){return Object(l.jsxs)("div",{className:"item-option-list",children:[Object(l.jsx)("div",{onClick:e.rotate,className:"item-option rotate",children:Object(l.jsx)(f.a,{name:"lni lni-spinner-arrow"})}),Object(l.jsx)("div",{className:"item-option close",children:Object(l.jsx)(f.a,{name:"lni lni-close"})})]})}var p=function(e){Object(b.a)(c,e);var t=Object(u.a)(c);function c(){return Object(j.a)(this,c),t.apply(this,arguments)}return Object(m.a)(c,[{key:"list",value:function(){var e=this,t=this.props.files.map((function(t,c){return Object(l.jsx)(O,Object(o.a)({file:t,upd:e.props.upd,index:c},e.props),t.id)}));return t.length<=0&&(t="\u043d\u0435\u0442 \u0444\u043e\u0442\u043e"),Object(l.jsx)("div",{className:"list mt-3","change-mod":this.props.changeMod?1:0,children:t})}},{key:"render",value:function(){return this.list()}}]),c}(a.a.Component),v=c(10);function g(e){var t=Object(n.useRef)();return e.mod?Object(l.jsx)("div",{className:"file-options-form-wrapper",children:Object(l.jsx)("div",{className:"card border-secondary my-3 file-options-form",children:Object(l.jsxs)("form",{ref:t,children:[Object(l.jsx)("div",{className:"card-header",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)(N,{files:e.files}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{forhtml:"exampleSelect1",className:"form-label mt-4",children:"\u0424\u043e\u0440\u043c\u0430\u0442 \u0444\u043e\u0442\u043e"}),Object(l.jsxs)("select",{className:"form-select",name:"format",id:"exampleSelect1",required:!0,children:[Object(l.jsx)("option",{disabled:!0,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}),Object(l.jsx)("option",{value:"10x15",children:"10x15"}),Object(l.jsx)("option",{value:"15x20",children:"15x20"}),Object(l.jsx)("option",{value:"20x30",children:"20x30"})]})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{forhtml:"exampleSelect2",className:"form-label mt-4",children:"\u0422\u0438\u043f \u0431\u0443\u043c\u0430\u0433\u0438"}),Object(l.jsxs)("select",{className:"form-select",name:"paper",id:"exampleSelect2",required:!0,children:[Object(l.jsx)("option",{disabled:!0,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"}),Object(l.jsx)("option",{value:"\u043c\u0430\u0442\u043e\u0432\u0430\u044f",children:"\u041c\u0430\u0442\u043e\u0432\u0430\u044f"}),Object(l.jsx)("option",{value:"\u0433\u043b\u044f\u043d\u0435\u0446",children:"\u0413\u043b\u044f\u043d\u0435\u0446"})]})]}),Object(l.jsx)("div",{className:"form-group mt-3",children:Object(l.jsxs)("div",{className:"form-check form-switch",children:[Object(l.jsx)("input",{className:"form-check-input",name:"cadr",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"}),Object(l.jsx)("label",{className:"form-check-label",forhtml:"flexSwitchCheckDefault",children:"\u041a\u0430\u0434\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})]})}),Object(l.jsxs)("div",{className:"mt-3",children:[Object(l.jsx)("label",{forhtml:"exampleFormControlInput3",className:"form-label",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(l.jsx)("input",{type:"number",name:"count",className:"form-control",id:"exampleFormControlInput3",defaultValue:"1"})]})]}),Object(l.jsx)("div",{className:"card-footer d-flex justify-content-end",children:Object(l.jsx)("div",{onClick:function(t){var c,n=t.target.closest("form"),a=new FormData(n),s=[],i=Object(v.a)(a);try{for(i.s();!(c=i.n()).done;){var l=Object(d.a)(c.value,2),r=l[0],o=l[1];s.push({name:r,value:o})}}catch(j){i.e(j)}finally{i.f()}e.massSetOptions(s)},className:"btn btn-success",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})})}):null}function N(e){var t=null;return e.files&&(t=e.files.map((function(e){return!!e.options.changed&&Object(l.jsx)("div",{className:"changed-files-list-item",style:{backgroundImage:"url(".concat(window.URL.createObjectURL(e.file),")")}},e.id)}))).length>0?Object(l.jsx)("div",{className:"changed-file-list",children:t}):null}function w(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(d.a)(s,2),r=i[0],o=i[1],j=Object(n.useState)((new Date).getTime()),m=Object(d.a)(j,2),b=(m[0],m[1]),u=function(e){return{id:h(e),file:e,body:null,options:{count:1,format:"10x15",paper:"\u043c\u0430\u0442\u043e\u0432\u0430\u044f",cadr:0,rotate:!1,changed:!1}}},h=function(e){return e.size+"_"+e.name};return Object(l.jsx)("form",{children:Object(l.jsx)(y,{addFiles:function(e){var t=[];if(e.length>0){for(var n=0;n<e.length;n++)t.push(u(e[n]));a(c.concat(t))}},setChangingMod:function(){if(r){var e=c;e.forEach((function(e){e.options.changed=!1})),a(e)}o(!r)},changeMod:r,upd:function(e,t,n){var s=c;s[n].options[e]=t,a(s),b((new Date).getTime())},massSetOptions:function(e){var t=c;t.forEach((function(t){t.options.changed&&(e.forEach((function(e){t.options[e.name]=e.value})),e.findIndex((function(e){return"cadr"===e.name}))<0&&(t.options.cadr=!1))})),a(t),b((new Date).getTime())},files:c})})}function y(e){return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-12 col-lg-9",children:Object(l.jsxs)("div",{className:"card border-secondary my-3",children:[Object(l.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:["\u0412\u0430\u0448\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438: ",e.files.length,Object(l.jsx)(k,{modOn:e.changeMod,setChangingMod:e.setChangingMod})]}),Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("div",{className:"image-list",children:[Object(l.jsx)("label",{children:Object(l.jsx)("input",{onChange:function(t){var c=t.target.files;e.addFiles(c)},className:"form-control",type:"file",multiple:!0})}),Object(l.jsx)(p,Object(o.a)({},e))]})}),Object(l.jsx)("div",{className:"card-footer d-flex justify-content-end",children:Object(l.jsx)("div",{className:"btn btn-success",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u0430"})})]})}),Object(l.jsx)("div",{className:"col-12 col-lg-3",children:Object(l.jsx)(g,Object(o.a)({mod:!0,massSetOptions:e.massSetOptions},e))})]})}function k(e){var t="\u041c\u0430\u0441\u0441\u043e\u0432\u043e\u0435 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435";return e.modOn&&(t="\u0441\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"),Object(l.jsx)("div",{onClick:e.setChangingMod,className:"btn btn-info text-white",children:t})}var C=function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(r,{}),Object(l.jsx)(w,{})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,22)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root")),S()}},[[20,1,2]]]);
//# sourceMappingURL=main.b782ab01.chunk.js.map